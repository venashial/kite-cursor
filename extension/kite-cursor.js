!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e=document.createElement("canvas"),t=e.getContext("2d");function o(){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}e.style.pointerEvents="none",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="999",e.id="kite-cursor",(async()=>{let t=!0;try{t=await browser.storage.managed.get("enabled")}catch{}!document.getElementById("kite-cursor")&&t&&(o(),document.body.appendChild(e),window.addEventListener("resize",o))})();class s{static zero(){return{x:0,y:0}}static sub(e,t){return{x:e.x-t.x,y:e.y-t.y}}static add(e,t){return{x:e.x+t.x,y:e.y+t.y}}static mag(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static normalized(e){const t=s.mag(e);return 0===t?s.zero():{x:e.x/t,y:e.y/t}}}class i{pos;isFixed;mass;damping;prev;next;distanceToNextPoint;oldPos;velocity;static integrate(e,t,o,i){e.velocity=s.sub(e.pos,e.oldPos),e.oldPos={...e.pos};let n=0!=i?o/i:0,l=s.add(t,{x:0,y:e.mass});const p=n*e.damping,a=Math.pow(o,2);e.pos.x+=e.velocity.x*p+l.x*a,e.pos.y+=e.velocity.y*p+l.y*a}static constrain(e){if(e.next){const t=s.sub(e.next.pos,e.pos),o=s.mag(t)-e.distanceToNextPoint,i=s.normalized(t);e.isFixed||(e.pos.x+=i.x*o*.25,e.pos.y+=i.y*o*.25),e.next.isFixed||(e.next.pos.x-=i.x*o*.25,e.next.pos.y-=i.y*o*.25)}if(e.prev){const t=s.sub(e.prev.pos,e.pos),o=s.mag(t)-e.distanceToNextPoint,i=s.normalized(t);e.isFixed||(e.pos.x+=i.x*o*.25,e.pos.y+=i.y*o*.25),e.prev.isFixed||(e.prev.pos.x-=i.x*o*.25,e.prev.pos.y-=i.y*o*.25)}}constructor(e,t){this.pos=e,this.distanceToNextPoint=t,this.isFixed=!1,this.oldPos={...e},this.velocity=s.zero(),this.mass=1,this.damping=1,this.prev=null,this.next=null}}const n={yellow:"hsl(59, 89%, 57%)",red:"hsl(12, 87%, 53%)",blue:"hsl(209, 85%, 59%)",green:"hsl(97, 60%, 47%)"},l=new class{points;_prevDelta;_solverIterations;constructor(t,o,s,n,l=500){this.update=this.update.bind(this),this._prevDelta=0,this._solverIterations=l;let p=[];const a=t/o;for(let t=0;t<a;t++)p[t]=new i({x:-20,y:e.height/2},o),p[t].mass=s,p[t].damping=n;for(let e=0;e<a;e++){const t=0!=e?p[e-1]:null,o=p[e],s=e!=a-1?p[e+1]:null;o.prev=t,o.next=s}p[0].isFixed=!0,this.points=p}update(e,t){for(let o=1;o<this.points.length-1;o++){let s=this.points[o],n={...e};i.integrate(s,n,t,this._prevDelta)}for(let e=0;e<this._solverIterations;e++)for(let e=1;e<this.points.length-1;e++){let t=this.points[e];i.constrain(t)}this._prevDelta=t}}(210,8,.88,.8);const p={deltaTime:0,currentTime:0,lastTime:(new Date).getTime(),interval:1e3/60};window.addEventListener("mousemove",(e=>{l.points[0].pos={x:e.pageX+window.scrollX,y:e.pageY-window.scrollY+20}})),function o(){if(window.requestAnimationFrame(o),p.currentTime=(new Date).getTime(),p.deltaTime=p.currentTime-p.lastTime,p.deltaTime>p.interval){const o=.001*p.deltaTime;l.update({x:0,y:3e3},o),t.clearRect(0,0,e.width,e.height),function(){let e=0;for(let o=0;o<l.points.length;o++){let s=l.points[o];const i=0!==o?l.points[o-1]:null;if(i&&o!==l.points.length-1&&o>9&&(t.globalCompositeOperation="destination-over",t.beginPath(),t.moveTo(i.pos.x,i.pos.y),t.lineTo(s.pos.x,s.pos.y),t.lineWidth=2,t.strokeStyle="white",t.stroke(),t.globalCompositeOperation="source-over",o>4&&(o+1)%3==0&&e<4)){let i=l.points[o+1],p=l.points[o+2];t.fillStyle=Object.values(n)[e],t.beginPath(),t.moveTo(i.pos.x,i.pos.y),t.lineTo(s.pos.x-8,s.pos.y+4),t.lineTo(p.pos.x-8,p.pos.y-4),t.lineTo(i.pos.x,i.pos.y),t.lineTo(s.pos.x+8,s.pos.y+4),t.lineTo(p.pos.x+8,p.pos.y-4),t.lineTo(i.pos.x,i.pos.y),t.fill(),e++}if(0===o){let e=l.points[o+10],i=l.points[o+3];t.fillStyle=n.yellow,t.beginPath(),t.moveTo(s.pos.x,s.pos.y),t.lineTo(i.pos.x-20,i.pos.y),t.lineTo(i.pos.x,i.pos.y),t.fill(),t.fillStyle=n.red,t.beginPath(),t.moveTo(i.pos.x-20,i.pos.y),t.lineTo(e.pos.x,e.pos.y),t.lineTo(i.pos.x,i.pos.y),t.fill(),t.fillStyle=n.blue,t.beginPath(),t.moveTo(e.pos.x,e.pos.y),t.lineTo(i.pos.x+20,i.pos.y),t.lineTo(i.pos.x,i.pos.y),t.fill(),t.fillStyle=n.green,t.beginPath(),t.moveTo(i.pos.x+20,i.pos.y),t.lineTo(s.pos.x,s.pos.y),t.lineTo(i.pos.x,i.pos.y),t.fill()}}}(),p.lastTime=p.currentTime-p.deltaTime%p.interval}}()}));
